<div class="verify-email-container">
  <mat-card class="verify-card">
    <mat-card-header>
      <mat-card-title>Email Verification</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <!-- Loading State -->
      @if (loading()) {
        <div class="loading-section">
          <mat-spinner diameter="50"></mat-spinner>
          <p class="loading-text">Verifying your email...</p>
        </div>
      }

      <!-- Success State -->
      @if (success() && !loading()) {
        <div class="success-section">
          <div class="success-icon">✓</div>
          <h2>Verification Complete!</h2>
          <p>Your email has been successfully verified. Redirecting to login...</p>
        </div>
      }

      <!-- Error State -->
      @if (errorMessage() && !loading()) {
        <div class="error-section">
          <div class="error-icon">✕</div>
          <h2>Verification Failed</h2>
          <p class="error-message">{{ errorMessage() }}</p>
          <p class="redirect-message">Redirecting to sign up...</p>
        </div>
      }
    </mat-card-content>

    @if (!loading()) {
      <mat-card-actions class="action-buttons">
        @if (success()) {
          <button mat-raised-button color="primary" (click)="router.navigate(['/login'])">
            Go to Login
          </button>
        }
        @if (errorMessage()) {
          <button mat-raised-button (click)="router.navigate(['/signup'])">
            Back to Sign Up
          </button>
        }
      </mat-card-actions>
    }
  </mat-card>
</div>
